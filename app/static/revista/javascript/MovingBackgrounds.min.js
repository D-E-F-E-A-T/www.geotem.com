var MB;!function(a){function b(){return(new Date).getTime()}function c(a,b,c){var d=document.createElement(a);b&&(d.className=b);var e=d.style;for(var f in c)e[f]=c[f];return d}function d(a,b,c){for(var d=a.style,e=0;e<j.length;e++)d[j[e]+b]=c}function e(a){for(var b=[],c=0;c<arguments.length-1;c++)b[c]=arguments[c+1];var d=0;return a.replace(/%[a-z]/gi,function(){return b[d++]})}function f(a,b,c){return"undefined"==typeof a&&(a=1),"undefined"==typeof b&&(b=0),"undefined"==typeof c&&(c=5),parseFloat((Math.random()*(a-b)+b).toFixed(c))}function g(a,b,c){return a>=90*(b-1)&&90*b>a||a>=90*(c-1)&&90*c>a?!0:!1}function h(a,b,c){var d=1e4;a=~~(a*d),b=~~(b*d),c=~~(c*d);var e=c-b;if(a>c){var f=(a-c)%(2*e);f=f>e?b+(f-e):b+(e-f)}else if(b>a){var f=(b-a)%(2*e);f=f>e?b+(e-f):b+f}else f=a;return f/d}var i=function(){function a(a,c){this.callback=a,this.context=c,this.destroyed=!1;var d=b();this.start=d,this.next(d)}return a.prototype.next=function(c){var d=this;if(!this.destroyed){var e=b(),f=e;f-this.start>=a.delay&&500>f-c&&(this.start=e,this.callback.call(this.context,f,c)),a.raf.call(window,function(){d.next(e)})}},a.prototype.destroy=function(){this.destroyed=!0,this.callback=null,this.context=null},a.delay=0,a.raf=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,1e3/60)},a}(),j=["webkit","moz","o","ms",""],k=function(){function a(a){var b=this;this.update=!0,this._direction="left",this._speed=100,this.imgWidth=0,this.imgHeight=0,this.width=0,this.height=0;var c=document.createElement("div");if(c.className="movingbackground",this.mb=c,window.addEventListener("resize",function(){b.update=!0},!1),a)for(var d in a)this[d]=a[d];this.tx=0,this.ty=0}return a.prototype.onload=function(){this.startMoving()},a.prototype.startMoving=function(){this.animation=new i(function(a,b){var c=this.data,f=this._direction,g="left"===f||"top"==f,h=c.delta,i=c.size;h+=(g?-1:1)*(a-b)/1e3*this._speed;var j=c.name,k=(c.start+(h%i-(g?0:i)))%i;this[j]=k,c.delta=h,d(this.mb,"transform",e("translate(%xpx, %ypx)",this.tx,this.ty))},this)},Object.defineProperty(a.prototype,"data",{get:function(){return this.update===!0&&(this.update=!1,this.updateData()),this._data},enumerable:!0,configurable:!0}),a.prototype.updateData=function(){var a=this.width,b=this.height,c=this.imgWidth,d=this.imgHeight;if(c&&d&&b&&a){var e=this._direction,f=this.getLength,g=this.mb,h="top"===e||"bottom"===e,i=h?"ty":"tx";g.style[h?"height":"width"]=(h?f(d,b):f(c,a))+"px",this._data={name:i,size:h?d:c,delta:0,start:this[i]}}},a.prototype.getLength=function(a,b){return a>=b?2*a:Math.ceil(b/a)*a+a},Object.defineProperty(a.prototype,"direction",{set:function(a){a&&this._direction!==a&&(this._direction=a,this.update=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"speed",{set:function(a){this._speed=a},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"src",{set:function(a){var b=new Image,c=this.mb,d=this;b.onload=function(){this.onload=null,d.imgWidth=this.width,d.imgHeight=this.height,c.style.backgroundImage="url("+a+")",this.update=!0,d.onload()},b.src=a,b=null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"container",{set:function(a){this._container!==a&&(a.appendChild(this.mb),this._container=a,this.width=a.offsetWidth,this.height=a.offsetHeight,this.update=!0)},enumerable:!0,configurable:!0}),a.prototype.destroy=function(){this.animation&&this.animation.destroy(),this.mb.parentNode.removeChild(this.mb),this.mb=null},a}(),l=(function(){function a(a){this.x=0,this.y=0,this.direction=0,this.moveMode=this.normal,this.spin=0,this.zoom=0,this.zoomSpeed=0,a&&(this.node=a.node,this.container=a.container,this.rect=this.node.getBoundingClientRect(),this.outRect=this.container.getBoundingClientRect(),this.x=a.x,this.y=a.y,this.direction=a.direction,this.speed=a.speed,this.moveMode=this[a.mode],this.spin=a.spin,this.zoom=a.zoom,this.zoomSpeed=a.zoomSpeed),this.move()}return a.prototype.move=function(){this.start=b(),this.animation=new i(function(a,b){var c=(a-b)/1e3,e=a-this.start,f="";if(this.img.style("rotation",e*this.spin%360),this.zoom>0){var g=Math.abs(1-this.zoom),h=e*this.zoomSpeed%(2*g);h>g&&(h=2*g-h);var i=1+h*(1>=this.zoom?-1:1);f+="scale("+i.toFixed(3)+")"}var j=this.x+c*this.speed*Math.cos(this._direction/180*Math.PI),k=this.y-c*this.speed*Math.sin(this._direction/180*Math.PI);f+=this.moveMode(j,k),d(this.node,"transform",f)},this)},a.prototype.collision=function(a,b){var c=this.rect,d=this.outRect,f=this.direction,g=d.width-c.width-c.left,h=-c.left,i=d.height-c.height-c.top,j=-c.top,k=this.isQuadrant;return(a>d.width-c.width-c.left&&k(f,1,4)||a<-c.left&&k(f,2,3))&&(this.direction=180-f),(b>d.height-c.height-c.top&&k(f,3,4)||b<-c.top&&k(f,1,2))&&(this.direction=360-f),a>g&&k(f,1,4)&&(a=g-(a-g)),h>a&&k(f,2,3)&&(a=h-a),b>i&&k(f,3,4)&&(b=2*i-b),j>b&&k(f,1,2)&&(b=j-b),e("translate(%s, %s)",a.toFixed(3),a.toFixed(3))},a.prototype.alternate=function(a,b){var c=this.rect,d=this.outRect,f=this.direction,g=d.width-c.width-c.left,h=-c.left,i=d.height-c.height-c.top,j=-c.top,k=this.isQuadrant;return(a>g&&k(f,1,4)||h>a&&k(f,2,3)||b>i&&k(f,3,4)||j>b&&k(f,1,2))&&(this.direction=180+f),a>g&&k(f,1,4)&&(a=g-(a-g),b=-this.getY(a)),h>a&&k(f,2,3)&&(a=h-a,b=-this.getY(a)),b>i&&k(f,3,4)&&(b=2*i-b,a=this.getX(-b)),j>b&&k(f,1,2)&&(b=j-b,a=this.getX(-b)),e("translate(%s, %s)",a.toFixed(3),a.toFixed(3))},a.prototype.normal=function(a,c){var d=this.rect,f=this.outRect,g=10,h=this.direction;if(90===h||270===h){var i=f.height-d.top+g,j=-d.height-d.top-g;j>c&&(c=i,this.start=b()),c>i&&(c=j,this.start=b())}else{var k=0===h||180===h?-1/0:this.getX(-f.height+d.top),l=0===h||180===h?1/0:this.getX(d.height+d.top),m=[-d.width-d.left,k,l,f.width-d.left];m.sort(function(a,b){return a-b}),m[2]+=g,m[1]-=g,a>m[2]&&(a=m[1],c=-this.getY(a)||c,this.start=b()),a<m[1]&&(a=m[2],c=-this.getY(a)||c,this.start=b())}return e("translate(%s, %s)",a.toFixed(3),a.toFixed(3))},a.prototype.getX=function(a){return(a-(-this.y-Math.tan(this.direction/180*Math.PI)*this.x))/Math.tan(this.direction/180*Math.PI)},a.prototype.getY=function(a){return Math.tan(this.direction/180*Math.PI)*a+(-this.y-Math.tan(this.direction/180*Math.PI)*this.x)},a.prototype.isQuadrant=function(a,b,c){return a>=90*(b-1)&&90*b>a||a>=90*(c-1)&&90*c>a?!0:!1},a.prototype.destroy=function(){this.animation&&(this.animation.destroy(),this.animation=null)},a}(),function(){function a(){}return a.random=function(a,b,c){return b=b||0,parseFloat((Math.random()*((a||1)-b)+b).toFixed(void 0===c?2:c))},a.randomPlusMinus=function(){return Math.random()>.5?-1:1},a.mixin=function(a,b,c){for(var d in b)b.hasOwnProperty(d)&&(a[d]=c[d]||b[d]);return a},a.parseColor=function(b){if("string"==typeof b){b=b.trim().toLowerCase();var c;if(c=a.COLOR_TABLE[b])return"rgba("+c[0]+","+c[1]+","+c[2]+",";var d,e,f;if("#"===b[0])return 4===b.length?(d=parseInt(b[1]+b[1],16),e=parseInt(b[2]+b[2],16),f=parseInt(b[3]+b[3],16)):(d=parseInt(b.substr(1,2),16),e=parseInt(b.substr(3,2),16),f=parseInt(b.substr(5,2),16)),"rgba("+d+","+e+","+f+",";var g;if(g=b.match(/([\d\-\.e]+)/gi))return"rgba("+ +g[0]+","+ +g[1]+","+ +g[2]+","}return"rgba(255,255,255,"},a.createElement=function(a,b,c){var d=document.createElement(a);b&&(d.className="mb--"+b);var e=d.style;for(var f in c)e[f]=c[f];return d},a.COLOR_TABLE={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],grey:[128,128,128],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[0,0,0,0]},a}()),m=function(){function a(a,b,c){"undefined"==typeof b&&(b={}),"undefined"==typeof c&&(c={});var d=this;this.container=a,this.options=l.mixin({},c,b),window.addEventListener("resize",this.eventListener=function(){d.resize()})}return a.prototype.destroy=function(){var a=this.container;if(window.removeEventListener("resize",this.eventListener),this.dataSelector)for(var b=a.querySelectorAll(this.dataSelector),c=0;c<b.length;c++)a.removeChild(b[c]);this.container=null},a.prototype.resize=function(){},a}(),n=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},o=function(a){function b(b,c,d){a.call(this,b,c,d);for(var e=this.options.num,f=this.template(),g=0;e>g;g++)b.appendChild(this.style(f.cloneNode(!0),g,e))}return n(b,a),b.prototype.style=function(a){return a},b.prototype.template=function(){return document.createElement("div")},b}(m),p=function(a){function b(c,d){a.call(this,c,d,b.options),this.dataSelector=".mb--air-bubble"}return n(b,a),b.prototype.style=function(a){var b=~~(25*Math.random())+5,c=l.random;a.className+=" mb--air-bubble";var d=a.style;return d.left=c(100)+"%",d.height=d.width=b+"px",d.webkitAnimation=d.animation="mbBubbleRise "+(20-b/2)+"s "+c(10)+"s ease-in infinite",a},b.options={num:50},b}(o);a.AirBubble=p;var q=function(a){function b(b,c){a.call(this,b,c),this.dataSelector=".mb--an-bubble";for(var d,e=0;10>e;e++)d=document.createElement("div"),d.className="mb--an-bubble",d.id="mb--an-bubble-"+(e+1),d.style.webkitAnimation=d.style.animation="mbAnBubbleMove "+(l.random(20)+10)+"s infinite "+l.random()+"s alternate linear",b.appendChild(d)}return n(b,a),b}(m);a.AnBubble=q;var r=function(a){function b(c,d){a.call(this,c,d,b.options),this.dataSelector=".mb--blink-star"}return n(b,a),b.prototype.template=function(){var a=l.createElement,b=a("div","blink-star"),c=a("div","blink-star-child");return b.appendChild(c),b},b.prototype.style=function(a){var c=a.style;return a.className+=" mb--blink-star-"+b.colors[Math.floor(Math.random()*b.colors.length)],c.top=l.random(100)+"%",c.left=l.random(100)+"%",c.width=l.random(2)+8+"px",c.height=l.random(2)+7+"px",c.opacity=l.random(5)/10+.5,c.webkitAnimation=c.animation="mbBlinkAfter 15s infinite "+l.random(10)+"s ease-out",a},b.colors=["navy","blue","aqua","teal","olive","green","lime","yellow","orange","red","maroon","fuchsia","purple"],b.options={num:200},b}(o);a.BlinkStar=r;var s=function(a){function b(c,d){a.call(this,c,d,b.options),this.dataSelector=".mb--cloud01"}return n(b,a),b.prototype.reset=function(a,b){b.removeEventListener("animationiteration",b.handler),b.handler=null;var c=this.options,d=c.direction,e=b.style;e.webkitAnimation=e.animation="none",e[d]="100%",setTimeout(function(){e.animation="mbCloudMove"+d+" "+(Math.random()*(10/c.speed)+10/c.speed)+"s linear infinite",b=null},0)},b.prototype._style=function(a,b,c){var d=this.options,e=d.direction,f=a.style,g=l.random(200)-100;a.className="mb--cloud01",f[e]=g+"%",f["top"===e||"bottom"===e?"left":"top"]=l.random(102)-10+"%",f.opacity=.5*Math.random()+.5,f.webkitAnimation=f.animation="mbCloudMove"+e+" "+(Math.random()*(10/d.speed)+10/d.speed)*(g+100)/200+"s linear infinite",f.msTransform=f.webkitTransform=f.transform="scale("+(.7/c*b+.3)+")"},b.prototype.style=function(a,b,c){var d=this;return this._style(a,b,c),a.addEventListener("animationiteration",a.handler=function(a){return function(b){d.reset(b,a)}}(a),!1),a},b.options={num:30,direction:"left",speed:.3},b}(o),t=function(a){function b(b){a.call(this,b,{direction:"left"})}return n(b,a),b}(s);a.CloudsLeft01=t;var u=function(a){function b(b){a.call(this,b,{direction:"right"})}return n(b,a),b}(s);a.CloudsRight01=u;var v=function(a){function b(b){a.call(this,b,{direction:"top"})}return n(b,a),b}(s);a.CloudsTop01=v;var w=function(a){function b(b){a.call(this,b,{direction:"bottom"})}return n(b,a),b}(s);a.CloudsBottom01=w;var x=function(a){function b(b,c){a.call(this,b,c)}return n(b,a),b.prototype._style=function(a){var b=this.options,c=b.direction,d=a.style,e=l.random(200)-100;a.className="mb--cloud mb--cloud-c"+(~~(3*Math.random())+1),d[c]=e+"%",d["top"===c||"bottom"===c?"left":"top"]=l.random(102)-10+"%",d.opacity=.5*Math.random()+.5,d.webkitAnimation=d.animation="mbCloudMove"+c+" "+(Math.random()*(10/b.speed)+10/b.speed)*(e+100)/200+"s linear infinite";var f=l.random(1,.3);d.width=350*f+"px",d.height=130*f+"px"},b}(s),y=function(a){function b(b){a.call(this,b,{direction:"left"})}return n(b,a),b}(x);a.CloudsLeft02=y;var z=function(a){function b(b){a.call(this,b,{direction:"right"})}return n(b,a),b}(x);a.CloudsRight02=z;var A=function(a){function b(b){a.call(this,b,{direction:"top"})}return n(b,a),b}(x);a.CloudsTop02=A;var B=function(a){function b(b){a.call(this,b,{direction:"bottom"})}return n(b,a),b}(x);a.CloudsBottom02=B;var C="./style/mb_icon/",D=function(){function a(a,b){if(this.options={speed:10},b)for(var d in b)this.options[d]=b[d];var e=c("div");e.className="mb-cloud3-wrapper",a.appendChild(e);var f=new k({src:C+"bg-clouds.png",speed:this.options.speed,direction:"left"});f.onload=function(){e.style.height=this.imgHeight+"px",this.container=e,this.startMoving()};var g=c("div");g.className="air-balloon";var h=g.cloneNode();g.style.left="10%",g.className+=" air-balloon1",h.style.right="10%",h.className+=" air-balloon2",a.appendChild(g),a.appendChild(h)}return a}();a.Cloud3=D;var E=function(a){function b(b,c,d){a.call(this,b,c,d),this.dataSelector=".mb--canvas"}return n(b,a),b.prototype.resize=function(){var a=this.canvas,b=this.container;this.width=a.width=b.offsetWidth,this.height=a.height=b.offsetHeight},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.canvas=null},b}(m),F=function(a){function b(c,d){a.call(this,c,d,b.options),this.particles=[],this.updateParticles=function(){for(var a=this.particles.length;a--;){var b=this.particles[a],c=b.angle*Math.PI/180,d=Math.cos(c)*b.speed,e=Math.sin(c)*b.speed;b.speed*=b.friction,b.coordLast[2].x=b.coordLast[1].x,b.coordLast[2].y=b.coordLast[1].y,b.coordLast[1].x=b.coordLast[0].x,b.coordLast[1].y=b.coordLast[0].y,b.coordLast[0].x=b.x,b.coordLast[0].y=b.y,b.x+=d,b.y+=e,b.y+=b.gravity,b.angle+=b.wind,b.alpha-=b.decay,(!this.removable(0,0,this.width,this.height,b.x-b.radius,b.y-b.radius,2*b.radius,2*b.radius)||b.alpha<.05)&&this.particles.splice(a,1)}},this.fireworks=[];var e=this.canvas=document.createElement("canvas");e.width=this.width=c.offsetWidth,e.height=this.height=c.offsetHeight,c.appendChild(e),this.context=e.getContext("2d"),this.refreshCanvas()}return n(b,a),b.prototype.removable=function(a,b,c,d,e,f,g,h){return!(e>a+c||a>e+g||f>b+d||b>f+h)},b.prototype.createParticles=function(a,b,c){for(var d=this.options,e=l.random,f=d.num,g=d.speed,h=d.speedVariance,i=d.gravity,j=d.hueVariance,k=d.friction,m=d.wind,n=d.lineWidth;f--;)this.particles.push({x:a,y:b,coordLast:[{x:a,y:b},{x:a,y:b},{x:a,y:b}],angle:e(0,360),speed:e(0>=g-h?1:-h,g+h),friction:1-k/100,gravity:i/2,hue:e(c-j,c+j),brightness:e(50,80),alpha:e(40,100)/100,decay:e(10,50)/1e3,wind:(e(0,m)-m/2)/25,lineWidth:n})},b.prototype.drawParticles=function(){for(var a,b,a,c=this.particles,d=l.random,e=this.context,f=this.options,g=c.length,h=f.flickerDensity,i=50-h,j=d(50,100)/100;g--;)a=c[g],e.beginPath(),b=~~(d(1,3)-1),e.moveTo(Math.round(a.coordLast[b].x),Math.round(a.coordLast[b].y)),e.lineTo(Math.round(a.x),Math.round(a.y)),e.closePath(),e.strokeStyle="hsla("+a.hue+", 100%, "+a.brightness+"%, "+a.alpha+")",e.stroke(),h>0&&d(0,i)===i&&(e.beginPath(),e.arc(Math.round(a.x),Math.round(a.y),d(a.lineWidth,a.lineWidth+3)/2,0,2*Math.PI,!1),e.closePath(),e.fillStyle="hsla("+a.hue+", 100%, "+a.brightness+"%, "+j+")",e.fill())},b.prototype.createFireworks=function(a,b,c,d){var e=this.fireworks;if(!(e.length>8)){var f=this.options,g=l.random;e.push({x:a,y:b,startX:a,startY:b,hitX:!1,hitY:!1,coordLast:[{x:a,y:b},{x:a,y:b},{x:a,y:b}],targetX:c,targetY:d,speed:f.fworkSpeed,angle:Math.atan2(d-b,c-a),shockwaveAngle:Math.atan2(d-b,c-a)+90*(Math.PI/180),acceleration:f.fworkAccel/100,hue:f.currentHue,brightness:g(50,80),alpha:g(50,100)/100,lineWidth:f.lineWidth})}},b.prototype.updateFireworks=function(){for(var a=this.fireworks,b=a.length,c=this.context;b--;){var d=a[b];c.lineWidth=d.lineWidth;var e=Math.cos(d.angle)*d.speed,f=Math.sin(d.angle)*d.speed;d.speed*=1+d.acceleration,d.coordLast[2].x=d.coordLast[1].x,d.coordLast[2].y=d.coordLast[1].y,d.coordLast[1].x=d.coordLast[0].x,d.coordLast[1].y=d.coordLast[0].y,d.coordLast[0].x=d.x,d.coordLast[0].y=d.y,d.startX>=d.targetX?d.x+e<=d.targetX?(d.x=d.targetX,d.hitX=!0):d.x+=e:d.x+e>=d.targetX?(d.x=d.targetX,d.hitX=!0):d.x+=e,d.startY>=d.targetY?d.y+f<=d.targetY?(d.y=d.targetY,d.hitY=!0):d.y+=f:d.y+f>=d.targetY?(d.y=d.targetY,d.hitY=!0):d.y+=f,d.hitX&&d.hitY&&(this.createParticles(d.targetX,d.targetY,d.hue),this.fireworks.splice(b,1))}},b.prototype.drawFireworks=function(){var a,b,c=this.fireworks,d=this.context,e=l.random,f=c.length;for(d.globalCompositeOperation="lighter";f--;)b=c[f],d.lineWidth=b.lineWidth,a=~~(e(1,3)-1),d.beginPath(),d.moveTo(Math.round(b.coordLast[a].x),Math.round(b.coordLast[a].y)),d.lineTo(Math.round(b.x),Math.round(b.y)),d.closePath(),d.strokeStyle="hsla("+b.hue+", 100%, "+b.brightness+"%, "+b.alpha+")",d.stroke()},b.prototype.refreshCanvas=function(){var a=this;this.animate=new i(function(){var b=Math.random();if(b>.5&&.54>b){var c=l.random,d=c(a.width),e=a.options;e.currentHue=~~c(e.hueMin,e.hueMax),a.createFireworks(d,a.height,c(d,d+100*l.randomPlusMinus()),150+100*Math.random())}var f=a.context;f.globalCompositeOperation="destination-out",f.fillStyle="rgba(0,0,0,0.25)",f.fillRect(0,0,a.width,a.height),a.updateFireworks(),a.updateParticles(),a.drawFireworks(),a.drawParticles()},this)},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.animate.destroy(),this.animate=null,this.context=null},b.options={currentHue:30,flickerDensity:25,friction:5,fworkAccel:10,fworkSpeed:4,gravity:1,hueMax:360,hueMin:0,hueVariance:30,lineWidth:1,num:150,speed:5,speedVariance:10,wind:50},b}(E);a.Firework1=F;var G=function(a){function b(b,c){var d=this;a.call(this,b,c),this.imgLoaded=!1,this.particles=[];var e=this.canvas=document.createElement("canvas");this.context=e.getContext("2d"),e.width=this.width=b.offsetWidth,e.height=this.height=b.offsetHeight,b.appendChild(e);var f=this.bigImg=new Image;f.onload=function(){f=f.onload=null,d.imgLoaded=!0,d.createFireworkPalette(12)},f.src=C+"bigFirework.png",this.render()}return n(b,a),b.prototype.createFireworkPalette=function(a){var b=10*a,c=this.fireworkCanvas=document.createElement("canvas"),d=c.getContext("2d");c.width=c.height=b;var e=document.createElement("canvas");e.width=e.height=a;for(var f=e.getContext("2d"),g=0;100>g;g++){f.clearRect(0,0,a,a),f.globalCompositeOperation="source-over",f.drawImage(this.bigImg,0,0),f.globalCompositeOperation="source-out",f.fillStyle="hsl("+Math.round(3.6*g)+",100%,60%)",f.fillRect(0,0,a,a);var h=g*a;d.drawImage(f.canvas,h%b,Math.floor(h/b)*a)}},b.prototype.render=function(){var a=this;this.animate=new i(function(){if(a.imgLoaded){var b=Math.random();b>.5&&.55>b&&a.createParticle(),a.draw()}},this)},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.animate.destroy(),this.bigImg.onload=null,this.bigImg=null,this.context=null,this.fireworkCanvas=null,this.particles=null},b.prototype.draw=function(){var a=this.context,b=this.particles;a.globalCompositeOperation="destination-out",a.fillStyle="rgba(0,0,0,.2)",a.fillRect(0,0,this.width,this.height);for(var c=b.length;c--;){var d=b[c];d.update()?(b.splice(c,1),d.usePhysics||(Math.random()<.8?this.star(d):this.circle(d))):d.render(a,this.fireworkCanvas)}},b.prototype.createParticle=function(a,b,c,d,e){a=a||{},b=b||{},c=c||{};var f=150+100*Math.random(),g=3*Math.random()-1.5,h=12*Math.floor(100*Math.random()),i=l.random;this.particles.push(new W({x:a.x||i(this.width),y:(a.y||this.height+10)-2},{y:b.y||f},{x:c.x||g,y:c.y||0},d||h,e))},b.prototype.circle=function(a){for(var b=100,c=2*Math.PI/b;b--;){var d=4+4*Math.random(),e=b*c;this.createParticle(a.pos,null,{x:Math.cos(e)*d,y:Math.sin(e)*d},a.color,!0)}},b.prototype.star=function(a){var b=6+Math.round(15*Math.random()),c=3+Math.round(7*Math.random()),d=10,e=80,f=-(3*Math.random()-6),g=0,h=0,i=2*Math.PI,j=Math.random()*i;do{g=h,h=(h+c)%b;for(var k=g/b*i-j,l=(g+c)/b*i-j,m={x:a.pos.x+Math.cos(k)*e,y:a.pos.y+Math.sin(k)*e},n={x:a.pos.x+Math.cos(l)*e,y:a.pos.y+Math.sin(l)*e},o={x:n.x-m.x,y:n.y-m.y,a:l-k},p=0;d>p;p++){var q=p/d,r=k+q*o.a;this.createParticle({x:m.x+q*o.x,y:m.y+q*o.y},null,{x:Math.cos(r)*f,y:Math.sin(r)*f},a.color,!0)}}while(0!==h)},b}(E);a.Firework2=G;var H=function(a){function b(b,c){var d=this;a.call(this,b,c),this.imgLoaded=!1,this.canvasWidth=512,this.canvasHeight=256,this.dataArray=[],this.count=0,this.lastTime=0,this.duration=4e3,this.variance={speed:3,ls:0,x:0,lx:0,y:0,ly:0,rotate:0,lr:0};var e=(this.width=b.offsetWidth,this.height=b.offsetHeight,this.canvas=document.createElement("canvas")),f=e.width=this.canvasWidth,g=e.height=this.canvasHeight;e.style.width=f+"px",e.style.height=g+"px",e.style.webkitTransformOrigin=e.style.transformOrigin="0 0",e.className="mb--canvas",this.resize(),b.appendChild(e),this.context=e.getContext("2d");var h=this.img=new Image;h.onload=function(){h=h.onload=null,d.imgLoaded=!0,d.createData()},h.src=C+"fog.png";var j=e.cloneNode(!1);this.fogContext=j.getContext("2d"),this.animate=new i(this.render,this)}return n(b,a),b.prototype.resize=function(){var a,b=this.width=this.container.offsetWidth,c=this.height=this.container.offsetHeight,d=this.canvasWidth,e=this.canvasHeight,f=0,g=0,h=b/d,i=c/e;h>i?(a=h,g=(c-a*e)/2):(a=i,f=(b-a*d)/2),this.canvas.style.webkitTransform=this.canvas.style.transform="translate("+f+"px, "+g+"px)scale("+a+")"},b.prototype.drawFog=function(a,b,c){if(this.imgLoaded){var d=this.fogContext,e=this.canvasWidth,f=this.canvasHeight;d.clearRect(0,0,e,f);for(var g,h=e>>1,i=f>>1,j=this.dataArray,k=0;k<j.length;k++){g=j[k];var l=(500+g.z)/500,m=1>=l?l:1.2-l/2;if(0>m){if(++this.count<1e11){g=j[k]=this.newData();var l=(500+g.z)/500,m=1>=l?l:1.2-l/2}}else{d.globalAlpha=g.a*m/2;var n=~~(this.img.width*l),o=~~(this.img.height*l);if(g.z+=g.v*a,g.x+=b,g.y+=c,!(2>n||2>o)){var p=-1500/(-1500+g.z),q=n>>1,r=o>>1,s=p*g.x+h-q,t=p*g.y+i-r;s>=e-q||-q>s||t>=f-r||-r>t||d.drawImage(this.imgCanvas,0,0,this.img.width,this.img.height,s,t,n,o)}}}}},b.prototype.newData=function(){var a=20,b=this.canvasWidth;return{x:Math.round(Math.random()*b)-(b>>1),y:Math.round(Math.random()*a)-(a>>1),z:-500,v:5*Math.random()+5,a:.2*Math.random()+.8}},b.prototype.createData=function(){var a=this.img,b=this.imgCanvas=document.createElement("canvas");b.getContext("2d").drawImage(a,0,0);for(var c=0;40>c;c++)this.dataArray.push(this.newData());for(c=0;100>c;c++)this.drawFog(3,0,0)},b.prototype.quad=function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},b.prototype.render=function(){var a=this.context,b=this.canvasWidth,c=this.canvasHeight;a.save(),a.globalCompositeOperation="source-over",a.globalAlpha=.5,a.fillStyle="rgba(0,0,0,.05)",a.fillRect(0,0,b,c);var d=(new Date).getTime(),e=d-this.lastTime,f=this.duration,g=this.variance;e>f&&(this.lastTime=d,g.ls=g.speed,g.speed=3*Math.random()+2,g.lx=g.x,g.x=4*Math.random()-2,g.ly=g.y,g.y=.625*Math.random()-.25,g.lr=g.rotate,g.rotate=.4*Math.random()-.2,e=0);var h=this.quad;this.drawFog(h(0,e,g.ls,g.speed-g.ls,f),h(0,e,g.lx,g.x-g.lx,f),h(0,e,g.ly,g.y-g.ly,f));var i=h(0,e,g.lr,g.rotate-g.lr,f),j=1+Math.abs(i)/.2*.3,k=b>>1,l=c>>1;a.translate(k,l),a.scale(j,j),a.rotate(i),a.translate(-k,-l),a.drawImage(this.fogContext.canvas,0,0),a.restore()},b}(E);a.Fog=H;var I=function(a){function b(b,d){var e=this;a.call(this,b,d,{}),this.colorSpeed=50,this.gradients=[],this.circles=[];var f=c("canvas");f.className="mb--canvas",f.width=this.width=b.offsetWidth,f.height=this.height=b.offsetHeight,b.appendChild(f),this.canvas=f,this.randomColor(),this.init(),window.addEventListener("resize",function(){e.init()},!1),new i(this.start,this)}return n(b,a),b.prototype.start=function(a,b){this.update(a,b),this.draw()},b.prototype.init=function(){this.createCircles()},b.prototype.randomColor=function(){this.color=[f(255),f(255),f(255)];for(var a=0;1>a;a++)this.gradients.push({stop:f(),opacity:f(),r:f(255),g:f(255),b:f(255)})},b.prototype.createCircles=function(){var a=this.circles,b=a.length,c=~~(this.width*this.height/2e4);if(c>b)for(var d=b;c>d;d++)a.push(this.newCircle(!0));b>c&&a.splice(c)},b.prototype.newCircle=function(a){return{x:f(this.width),y:a?f(this.height):this.height+20,radius:f(20,1),opacity:f(.7,.1),speed:f(30,1)}},b.prototype.draw=function(){var a=this.canvas.getContext("2d");a.clearRect(0,0,this.width,this.height),this.drawCircles(a),this.drawGrandient(a)},b.prototype.drawCircles=function(a){for(var b,c=this.circles,d=c.length,e=0;d>e;e++)b=c[e],a.beginPath(),a.arc(b.x,b.y,b.radius,0,2*Math.PI,!1),a.closePath(),a.fillStyle="rgba(255,255,255,"+b.opacity+")",a.fill()},b.prototype.drawGrandient=function(a){var b=a.createLinearGradient(0,0,0,this.height),c=~~h(this.color[0],0,255),d=~~h(this.color[1],0,255),g=~~h(this.color[2],0,255);b.addColorStop(0,e("rgba(%r,%g,%b,0)",c,d,g)),b.addColorStop(1,e("rgba(%r,%g,%b,1)",c,d,g));for(var i=0;i<this.gradients.length;i++){var j=this.gradients[i];c=~~h(j.r+=f(2),0,255),d=~~h(j.g+=f(2),0,255),g=~~h(j.b+=f(2),0,255),b.addColorStop(h(j.stop+=.001,.2,.8),e("rgba(%r,%g,%b,%o)",c,d,g,h(j.opacity+=.001,.2,.8)))}a.rect(0,0,this.width,this.height),a.fillStyle=b,a.fill()},b.prototype.update=function(a,b){for(var c,d=(a-b)/1e3,e=this.circles,g=e.length,h=0;g>h;h++){c=e[h];var i=c.y-d*c.speed;i<=-c.radius?(e.splice(h,1),g--):c.y=i}this.color[0]+=f(2),this.color[1]+=f(2),this.color[2]+=f(2),f()>.99&&this.circles.push(this.newCircle())},b}(E);a.Gradient=I;var J=function(a){function b(c,d){a.call(this,c,d,b.options),this.dataSelector=".mb--leave"}return n(b,a),b.prototype.template=function(){return l.createElement("div","leave")},b.prototype.style=function(a,b,c){var d=l.random(10+c/10)+"s",e=l.random(5)+8;a.className+=" mb--leave-"+this.options.type;var f=a.style;f.left=l.random(150)-40+"%",f.webkitAnimation=f.animation="mbFalling "+e+"s infinite "+d+" linear",f.webkitTransform=f.transform="scale("+(l.random(.5)+.3)+")rotate("+l.random(360)+"deg)";var g=l.createElement("div","leave-bg-"+(~~(3*Math.random())+1));return g.style.webkitAnimation=g.style.animation=(Math.random()>.3?"mbSwayAndFlip ":"mbSway ")+(l.random(3)+3)+"s infinite "+d+" alternate ease-in-out",a.appendChild(g),a},b.options={num:50,type:1},b}(o),K=function(a){function b(b){a.call(this,b,{type:1})}return n(b,a),b}(J);a.Leaves01=K;var L=function(a){function b(b){a.call(this,b,{type:2})}return n(b,a),b}(J);a.Leaves02=L;var M=function(a){function b(b){a.call(this,b,{type:3})}return n(b,a),b}(J);a.Leaves03=M;var N=function(a){function b(b){a.call(this,b,{type:4})}return n(b,a),b}(J);a.Leaves04=N;var O=function(a){function b(b){a.call(this,b,{type:5})}return n(b,a),b}(J);a.Leaves05=O;var P=function(a){function b(c,d){a.call(this,c,d,b.options),this.dataSelector=".mb--meteor"}return n(b,a),b.prototype.style=function(a){var b=a.style;return b.left=l.random(150)+"%",b.opacity=l.random(1,.5),b.webkitAnimation=b.animation="mbMeteorFlow "+(l.random(5)+5)+"s "+l.random(100)+"s linear infinite",a},b.prototype.template=function(){var a=l.createElement,b=a("div","meteor"),c=a("div","star-five"),d=a("div","star-five1"),e=a("div","star-five2"),f=a("div","star-five3");return c.appendChild(d),c.appendChild(e),c.appendChild(f),b.appendChild(c),b},b.options={num:100},b}(o);a.Meteor=P;var Q=function(a){function b(d,e){var f=this;a.call(this,d,e,b.options),this.container=d,this.options=e,this.particle="#ccc",this.line="#ccc",this.lines=[];var g=c("canvas");g.className="mb--canvas",g.width=this.width=d.offsetWidth,g.height=this.height=d.offsetHeight,this.canvas=g,d.appendChild(g),this.init(),window.addEventListener("resize",function(){f.init()},!1),new i(this.start,this)}return n(b,a),b.prototype.init=function(){var a=this.canvas.getContext("2d");a.lineWidth=.2,a.fillStyle=this.particle,a.strokeStyle=this.line;for(var b=this.particles=[],c=this.width,d=this.height,e=0;c*d/12e3>e;e++)b.push({direction:f(360,0,0),x:f(c,0,0),y:f(d,0,0),speedX:f(20,2),speedY:f(20,2)})},b.prototype.update=function(a){for(var b,c=this.particles,d=c.length,e=0;d>e;e++)b=c[e],this.updatePosition(a,b)},b.prototype.absDeg=function(a){return 0>a&&(a+=360),a%360},b.prototype.updatePosition=function(a,b){var c=b.x+a/1e3*b.speedX*Math.cos(b.direction/180*Math.PI),d=b.y-a/1e3*b.speedY*Math.sin(b.direction/180*Math.PI),e={width:7,height:7,left:b.x,top:b.y},f={width:this.width,height:this.height},h=b.direction,i=f.width-e.width/2,j=e.width/2,k=f.height-e.height/2,l=e.height/2,m=h;(c>i&&g(h,1,4)||j>c&&g(h,2,3))&&(m=this.absDeg(180-h)),(d>k&&g(h,3,4)||l>d&&g(h,1,2))&&(m=this.absDeg(360-h)),c>i&&g(h,1,4)&&(c=i),j>c&&g(h,2,3)&&(c=j),d>k&&g(h,3,4)&&(d=k),l>d&&g(h,1,2)&&(d=l),b.x=c,b.y=d,b.direction=m},b.prototype.draw=function(){function a(a){g.arc(a.x,a.y,3.5,0,2*Math.PI,!1),g.fill()}function b(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)}function c(a,c){for(var d,h=c;f>h;h++)d=e[h],g.beginPath(),b(a,d)<100&&(g.moveTo(a.x,a.y),g.lineTo(d.x,d.y)),g.closePath(),g.stroke()}var d,e=this.particles,f=e.length,g=this.canvas.getContext("2d");g.clearRect(0,0,this.width,this.height);for(var h=0;f>h;h++)d=e[h],a(d),c(d,h)},b.prototype.start=function(a,b){var c=a-b;this.update(c),this.draw()},b.options={particle:"#ccc",line:"#ccc"},b}(E);a.Particules=Q;var R=function(a){function b(c,d){a.call(this,c,d,b.options),this.circles=[],this.clouds=[];var e=this.options,f=this.width=c.offsetWidth,g=this.height=c.offsetHeight,h=this.canvas=document.createElement("canvas");h.width=f,h.height=g,h.className="mb--rain-drop mb--canvas",c.appendChild(h),this.context=h.getContext("2d");for(var i,j,k,l,m=e.rainDrops,n=e.direction,o=e.wind,p=this.circles,q=0;m>q;q++)i=Math.round(Math.random()*f*2*o),"right"===n?i-=f:"left"!==n&&(e.wind=0,i=Math.round(Math.random()*f*o+1)),j=-1*Math.round(Math.random()*g*2+50),k=5+2*Math.random(),l=Math.floor(10*Math.random()+1),p.push({opacity:parseFloat((-.03+l/10).toFixed(2)),speed:k,xPos:i,yPos:j,counter:0});for(var q=0;20>q;q++)this.clouds.push(this.newCloud());var r=this.img=new Image,s=this.imgCanvas=document.createElement("canvas");r.onload=function(){r.onload=null,s.width=r.width,s.height=r.height,s.getContext("2d").drawImage(r,0,0)},r.src=C+"c2.png",this.render()}return n(b,a),b.prototype.render=function(){this.animate=new i(this.drawRain,this)},b.prototype.newCloud=function(){return{x:2*Math.random()*this.width-this.width/2,dx:(Math.random()>.5?-1:1)*Math.random()/10,y:Math.random()*this.height-this.height,dy:(Math.random()>.5?-1:1)*Math.random()/10,s:2*Math.random()+1,ds:Math.random()/10,o:1,"do":Math.random()/100}},b.prototype.drawRain=function(){var a,b=this.circles,c=this.options,d=this.width,e=this.height,f=Math.max(c.wind,1),g=c.direction,h=this.context,i="left"===g,j="right"===g;i||j||(f=0),h.clearRect(0,0,d,e);for(var k,l=this.clouds,m=0;m<l.length;m++){k=l[m];var n=k.y+=k.dy,o=k.x+=k.dx,p=k.s+=k.ds,q=k.o-=k["do"];0>=q&&(l[m]=this.newCloud());var r=this.img.width,s=this.img.height,t=r*p,u=s*p;h.globalAlpha=0>q?Math.random()>.99?.5*Math.random():0:.05*q,h.drawImage(this.imgCanvas,0,0,r||1,s||1,o-t/2,n,t||1,u||1)}h.globalAlpha=1;for(var m=0;m<b.length;m++)a=b[m],a.counter+=a.speed,a.yPos+a.counter>e&&(a.xPos=Math.round(Math.random()*d*2*f),j?a.xPos-=d:i||(a.xPos=Math.round(Math.random()*d+10)),a.yPos=-1*Math.round(Math.random()*e*2+1),a.counter=0),h.beginPath(),i?this.moveParticules(a,-1,7,10,11,5):j?this.moveParticules(a,1,7,10,11,5):this.moveParticules(a,1,0,15,3,20),h.fillStyle="rgba(220, 220, 220,"+a.opacity+")",h.fill()},b.prototype.moveParticules=function(a,b,c,d,e,f){var g=this.options,h=g.wind,i=this.context,j=a.xPos,k=a.yPos,l=a.counter;i.moveTo(j+l*h*b,k+l),i.bezierCurveTo(j+l*h*b+c*b,k+l+d,j+l*h*b+e*b,k+l+f,j+l*h*b,k+l)},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.animate.destroy(),this.animate=void 0,this.context=void 0,this.circles=void 0
},b.options={direction:"vertical",wind:1,rainDrops:1e3},b}(E);a.RainDrop=R;var S=function(a){function b(c,d){var e=this;a.call(this,c,d,b.options),this.imgLoaded=!1,this.dataSelector=".mb--canvas";var f=this.canvas=document.createElement("canvas");if(f.className="mb--snow mb--canvas",f.width=this.width=c.offsetWidth,f.height=this.height=c.offsetHeight,c.appendChild(f),this.context=f.getContext("2d"),this.context){var g=this.img=new Image;g.onload=function(){e.imgLoaded=!0,e.createSnowDate()},g.src=C+"snow.png",this.render()}}return n(b,a),b.prototype.getScale=function(a){var b,c=Math.random(),d=Math.random();return b=d>.92?5*c+1:d>.9?3*c+.8:d>.7?c+.6:c/2+.3,a||(d>.99?b=15*c+5:d>.97&&(b=8*c+3)),b},b.prototype.createSnowDate=function(){for(var a,b=this.snows=[],c=this.options.num,d=this.img,e=this.img.width,f=this.img.height,g=0;c>g;g++)a=this.getScale(!0),b.push({x:Math.random()*this.width,xi:l.randomPlusMinus()*a*.2,y:Math.random()*this.height,yi:.5*a,w:e*a,h:f*a});var h=this.snowCanvas=document.createElement("canvas");h.width=e,h.height=f,h.getContext("2d").drawImage(d,0,0)},b.prototype.render=function(){var a=this;this.animate=new i(function(){if(a.imgLoaded){var b,c,d=a.context,e=a.snows,f=a.options.num,g=a.width,h=a.height,i=a.img,j=i.width,k=i.height;d.clearRect(0,0,g,h);for(var m=0;f>m;m++)b=e[m],d.drawImage(a.snowCanvas,b.x,b.y,b.w,b.h),b.x+=b.xi,b.y+=b.yi,b.y>h+b.h&&(b.y=-b.h,c=a.getScale(),b.w=j*c,b.h=k*c,b.xi=l.randomPlusMinus()*c*.2,b.yi=.5*c),b.x>g+b.w?b.x=-b.w:b.x<-b.w&&(b.x=g+b.w)}},this)},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.animate.destroy(),this.img.onload=null,this.img=null,this.context=null},b.options={num:500},b}(E);a.Snow=S;var T=function(a){function b(c,d){a.call(this,c,d,b.options),this.draw(c)}return n(b,a),b.prototype.draw=function(a){var b=200,c=a.offsetWidth,d=a.offsetHeight,e=this.options,f=e.x,g=e.y,h=this.parseParam(f,c),i=this.parseParam(g,d),j=this.canvas;j||(j=this.canvas=document.createElement("canvas")),j.className=".mb--canvas";var k=this.maxRadius(c,d,h,i);j.width=j.height=k;var m=j.style;m.position="absolute",m.left=h-k/2+"px",m.top=i-k/2+"px",m.webkitAnimation=m.animation="mbSunshine 200s linear infinite";var n=j.getContext("2d"),o=k/2,p=o;n.clearRect(0,0,k,k);var q=Math.min,r=e.size,s=l.parseColor(e.color),t=n.createRadialGradient(o,p,0,o,p,p);t.addColorStop(0,s+"1)"),t.addColorStop(q(.03*r,1),s+"1)"),t.addColorStop(q(.05*r,1),s+"0.8)"),t.addColorStop(q(.1*r+.2,1),s+"0)"),n.fillStyle=t,n.fillRect(0,0,k,k);var u=this.canvas1;u&&a.removeChild(u),u=this.canvas1=j.cloneNode(!1),u.style.webkitAnimation=u.style.animation="mbSunshine 200s linear infinite reverse",a.appendChild(u),a.appendChild(j);var v=u.getContext("2d");v.clearRect(0,0,k,k);for(var w,x,y,z=[n,v],A=0;A<z.length;A++)for(w=z[A],x=1;b>=x;)y=~~(2*Math.random()),w.beginPath(),w.moveTo(o,p),w.arc(o,p,Math.sqrt(Math.pow(o,2)+Math.pow(p,2)),2/b*Math.PI*(x-1),2/b*Math.PI*(x+y),!1),w.lineTo(o,p),w.fillStyle=s+(.04*Math.random()+.01)+")",w.fill(),w.closePath(),x+=~~(10*Math.random())+y+2},b.prototype.resize=function(){this.draw(this.container)},b.prototype.destroy=function(){a.prototype.destroy.call(this),this.canvas1=null},b.prototype.parseParam=function(a,b){var c;return c="string"==typeof a&&a.indexOf("~")>=0?b-+a.split("~")[1]:+a},b.prototype.maxRadius=function(a,b,c,d){var e=Math.pow,f=Math.sqrt,g=e(a-c,2),h=e(b-d,2);return 2*Math.max(f(g+e(d,2)),f(e(c,2)+h),f(g+h))},b.options={x:"150",y:"50",size:2,color:"rgb(250,250,250)"},b}(E);a.Sunshine=T;var U=function(){function a(a,b){this.sun=new T(a,b),this.cloud=new x(a,b)}return a.prototype.destroy=function(){this.sun.destroy(),this.cloud.destroy()},a}();a.SunCloud=U;var V=function(){function a(a,b){this.sun=new T(a,b),this.cloud=new s(a,b)}return a.prototype.destroy=function(){this.sun.destroy(),this.cloud.destroy()},a}();a.SunCloud01=V;var W=function(){function a(a,b,c,d,e){var f=this;this.imgLoaded=!1,this.GRAVITY=.06,this.alpha=1,this.easing=.02*Math.random(),this.fade=.1*Math.random(),this.gridX=d%120,this.gridY=12*Math.floor(d/120),this.color=d,this.pos={x:a.x||0,y:a.y||0},this.vel={x:c.x||0,y:c.y||0},this.lastPos={x:this.pos.x,y:this.pos.y},this.target={y:b.y||0},this.usePhysics=e||!1;var g=this.img=new Image;g.onload=function(){g=g.onload=null,f.imgLoaded=!0},g.src=C+"smallFirework.png"}return a.prototype.update=function(){if(this.lastPos.x=this.pos.x,this.lastPos.y=this.pos.y,this.usePhysics)this.vel.y+=this.GRAVITY,this.pos.y+=this.vel.y,this.alpha-=this.fade;else{var a=this.target.y-this.pos.y;this.pos.y+=a*(.03+this.easing),this.alpha=Math.min(a*a*5e-5,1)}return this.pos.x+=this.vel.x,this.alpha<.005},a.prototype.render=function(a,b){if(this.imgLoaded){var c=Math.round(this.pos.x),d=Math.round(this.pos.y);a.save(),a.globalCompositeOperation="lighter",a.globalAlpha=Math.random()*this.alpha,a.drawImage(b,this.gridX,this.gridY,12,12,c-6,d-6,12,12),a.drawImage(this.img,c-3,d-3),a.restore()}},a}()}(MB||(MB={}));